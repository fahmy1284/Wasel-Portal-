# نظام واصل - بوابة الخدمات الحكومية الإلكترونية
## Wasel Portal - Yemen Government Services System

نظام شامل لإدارة الخدمات الحكومية الإلكترونية في الجمهورية اليمنية، مطور باستخدام Flutter و PostgreSQL/Supabase.

---

## 📋 نظرة عامة

نظام واصل هو منصة إلكترونية شاملة تهدف إلى تسهيل الوصول للخدمات الحكومية للمواطنين اليمنيين وتوفير أدوات إدارية متقدمة للموظفين الحكوميين.

### المكونات الرئيسية:
- **Admin Portal**: بوابة إدارية للموظفين والمسؤولين
- **User Portal**: تطبيق المواطنين للوصول للخدمات
- **Common Module**: مكتبة مشتركة للمكونات والخدمات

---

## 🏗️ هيكل المشروع

```
wasel_system/
├── admin_portal/          # بوابة الإدارة
│   ├── lib/
│   │   ├── blocs/         # إدارة الحالات (BLoC)
│   │   ├── screens/       # الشاشات
│   │   ├── widgets/       # المكونات المخصصة
│   │   └── services/      # الخدمات
│   └── pubspec.yaml
├── user_portal/           # تطبيق المواطنين
│   ├── lib/
│   │   ├── blocs/
│   │   ├── screens/
│   │   ├── widgets/
│   │   └── services/
│   └── pubspec.yaml
├── common/                # المكتبة المشتركة
│   ├── lib/
│   │   ├── constants/     # الثوابت
│   │   ├── models/        # نماذج البيانات
│   │   ├── services/      # الخدمات المشتركة
│   │   ├── utils/         # الأدوات المساعدة
│   │   ├── widgets/       # المكونات المشتركة
│   │   └── theme/         # التصميم والألوان
│   └── pubspec.yaml
└── database/              # قاعدة البيانات
    └── supabase_schema.sql
```

---

## 🎨 التصميم والألوان

النظام يستخدم ألوان العلم اليمني كأساس للتصميم:

### الألوان الأساسية:
- **الأحمر اليمني**: `#CE1126` - اللون الأساسي
- **الأزرق التقني**: `#1E40AF` - اللون الثانوي
- **الأبيض**: `#FFFFFF` - الخلفيات
- **الأسود**: `#000000` - النصوص الرئيسية

### ألوان إضافية:
- **الأخضر**: `#16A34A` - النجاح والموافقة
- **الأصفر**: `#D97706` - التحذيرات
- **الأحمر الفاتح**: `#DC2626` - الأخطاء

---

## 🗄️ قاعدة البيانات

### الجداول الرئيسية:

#### 👥 إدارة المستخدمين
- `users` - بيانات المستخدمين الموسعة
- `user_sessions` - جلسات المستخدمين
- `audit_logs` - سجل الأنشطة

#### 🏛️ الهيكل الحكومي
- `ministries` - الوزارات
- `departments` - الإدارات والأقسام

#### 🛠️ الخدمات
- `services` - الخدمات الحكومية
- `service_requests` - طلبات الخدمات
- `documents` - المستندات المرفقة

#### 💰 المدفوعات
- `payments` - سجل المدفوعات

#### 📢 التواصل
- `notifications` - الإشعارات
- `news` - الأخبار والإعلانات
- `faqs` - الأسئلة الشائعة

#### ⚙️ النظام
- `system_settings` - إعدادات النظام

### الأنواع المخصصة (Enums):
- `user_role` - أدوار المستخدمين
- `service_status` - حالات الخدمات
- `request_status` - حالات الطلبات
- `payment_status` - حالات المدفوعات
- `document_type` - أنواع المستندات
- `notification_type` - أنواع الإشعارات

---

## 🔐 الأمان والحماية

### Row Level Security (RLS):
- تطبيق سياسات الأمان على مستوى الصفوف
- التحكم في الوصول حسب دور المستخدم
- حماية البيانات الحساسة

### التشفير:
- تشفير كلمات المرور باستخدام bcrypt
- تشفير البيانات الحساسة في قاعدة البيانات
- استخدام HTTPS لجميع الاتصالات

### المصادقة:
- مصادقة ثنائية العامل (2FA)
- تسجيل الدخول بالبصمة والوجه
- إدارة الجلسات الآمنة

---

## 📱 المميزات

### بوابة الإدارة (Admin Portal):
- **لوحة تحكم شاملة** مع إحصائيات مفصلة
- **إدارة المستخدمين** والصلاحيات
- **إدارة الخدمات** والوزارات
- **معالجة الطلبات** والموافقات
- **التقارير والتحليلات** المتقدمة
- **إدارة المحتوى** والإعلانات
- **سجل الأنشطة** والمراجعة

### تطبيق المواطنين (User Portal):
- **تسجيل دخول آمن** مع خيارات متعددة
- **تصفح الخدمات** بسهولة
- **تقديم الطلبات** إلكترونياً
- **تتبع حالة الطلبات** في الوقت الفعلي
- **الدفع الإلكتروني** الآمن
- **الإشعارات** والتنبيهات
- **الملف الشخصي** وإدارة البيانات

---

## 🛠️ التقنيات المستخدمة

### Frontend:
- **Flutter 3.24+** - إطار العمل الأساسي
- **Dart 3.0+** - لغة البرمجة
- **BLoC Pattern** - إدارة الحالات
- **Material Design 3** - نظام التصميم

### Backend:
- **Supabase** - منصة Backend-as-a-Service
- **PostgreSQL** - قاعدة البيانات
- **Row Level Security** - الأمان
- **Real-time Subscriptions** - التحديثات الفورية

### المكتبات الرئيسية:
```yaml
dependencies:
  flutter_bloc: ^8.1.3          # إدارة الحالات
  supabase_flutter: ^2.5.6      # قاعدة البيانات
  dio: ^5.4.3+1                 # طلبات HTTP
  fl_chart: ^0.68.0             # الرسوم البيانية
  cached_network_image: ^3.3.1  # تخزين الصور مؤقتاً
  local_auth: ^2.1.8            # المصادقة البيومترية
  file_picker: ^8.0.0+1         # اختيار الملفات
  intl: ^0.19.0                 # التدويل
```

---

## 🚀 التثبيت والتشغيل

### المتطلبات:
- Flutter SDK 3.24+
- Dart SDK 3.0+
- Android Studio / VS Code
- حساب Supabase

### خطوات التثبيت:

1. **استنساخ المشروع:**
```bash
git clone https://github.com/your-repo/wasel-portal.git
cd wasel-portal/wasel_system
```

2. **إعداد قاعدة البيانات:**
```bash
# إنشاء مشروع جديد في Supabase
# تشغيل ملف supabase_schema.sql في SQL Editor
```

3. **تكوين المتغيرات:**
```dart
// في common/lib/constants/app_constants.dart
static const String supabaseUrl = 'YOUR_SUPABASE_URL';
static const String supabaseAnonKey = 'YOUR_SUPABASE_ANON_KEY';
```

4. **تثبيت التبعيات:**
```bash
# للمكتبة المشتركة
cd common && flutter pub get

# لبوابة الإدارة
cd ../admin_portal && flutter pub get

# لتطبيق المواطنين
cd ../user_portal && flutter pub get
```

5. **تشغيل التطبيق:**
```bash
# بوابة الإدارة
cd admin_portal && flutter run

# تطبيق المواطنين
cd user_portal && flutter run
```

---

## 📊 APIs الافتراضية

النظام يتضمن APIs افتراضية للخدمات الحكومية الشائعة:

### خدمات الأحوال المدنية:
- استخراج شهادة ميلاد
- استخراج شهادة وفاة
- تسجيل زواج/طلاق

### خدمات الجوازات:
- استخراج جواز سفر
- تجديد جواز سفر
- تأشيرات الدخول والخروج

### خدمات العدل:
- توثيق المستندات
- الشهادات القانونية
- عقود الزواج

### خدمات أخرى:
- الشهادات الطبية
- رخص القيادة
- تسجيل المركبات
- الرخص التجارية

---

## 🔧 التخصيص والتطوير

### إضافة خدمة جديدة:
1. إضافة الخدمة في جدول `services`
2. تحديد المستندات المطلوبة
3. إنشاء نموذج الطلب
4. تطوير واجهة المستخدم
5. إضافة منطق المعالجة

### إضافة وزارة جديدة:
1. إدراج الوزارة في جدول `ministries`
2. إضافة الإدارات التابعة
3. تحديد الخدمات المقدمة
4. تعيين المسؤولين

---

## 📈 المراقبة والتحليلات

### الإحصائيات المتاحة:
- عدد المستخدمين النشطين
- معدل استخدام الخدمات
- أوقات الاستجابة
- معدلات النجاح/الفشل
- الإيرادات المحققة

### التقارير:
- تقارير يومية/أسبوعية/شهرية
- تحليل أداء الخدمات
- إحصائيات المستخدمين
- تقارير مالية مفصلة

---

## 🤝 المساهمة

نرحب بالمساهمات من المطورين:

1. Fork المشروع
2. إنشاء branch جديد للميزة
3. Commit التغييرات
4. Push إلى Branch
5. إنشاء Pull Request

### معايير الكود:
- اتباع Dart/Flutter style guide
- كتابة تعليقات واضحة بالعربية
- إضافة اختبارات للميزات الجديدة
- توثيق التغييرات

---

## 📞 الدعم والتواصل

### للدعم التقني:
- **البريد الإلكتروني**: support@wasel.gov.ye
- **الهاتف**: +967-1-123456
- **الموقع الإلكتروني**: https://wasel.gov.ye

### وسائل التواصل الاجتماعي:
- **فيسبوك**: https://facebook.com/wasel.gov.ye
- **تويتر**: https://twitter.com/wasel_gov_ye
- **إنستغرام**: https://instagram.com/wasel.gov.ye

---

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT - راجع ملف [LICENSE](LICENSE) للتفاصيل.

---

## 🙏 شكر وتقدير

نشكر جميع المساهمين في تطوير هذا النظام وجميع الجهات الحكومية التي ساعدت في تحديد المتطلبات والاحتياجات.

---

**تم التطوير بـ ❤️ للجمهورية اليمنية**

*الإصدار 1.0.0 - 2024*